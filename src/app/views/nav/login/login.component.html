<img class="image" src="../assets/logo.png" width="45px" alt="Covidify logo" />
<h2 class="heading">Covidify</h2>
<ng-container *ngIf="signup; then sin; else tem"></ng-container>
<ng-template #sin>
  <h2 class="heading">Sign Up</h2>
</ng-template>
<ng-template #tem>
  <h2 class="heading">Sign In</h2>
</ng-template>

<mat-dialog-content class="mat-typography">
  <form novalidate [formGroup]="authForm" (ngSubmit)="onSubmit()">
    <mat-form-field class="full-width">
      <mat-label>Username</mat-label>
      <input type="text" matInput formControlName="username" />
      <mat-hint></mat-hint>
    </mat-form-field>
    <mat-form-field class="full-width">
      <mat-label>Email</mat-label>
      <input
        type="email"
        matInput
        formControlName="emailFormControl"
        placeholder="Ex. pat@example.com"
      />
      <mat-hint></mat-hint>
      <mat-error
        *ngIf="
          authForm.get('emailFormControl')?.hasError('email') &&
          !authForm.get('emailFormControl')?.hasError('required')
        "
      >
        Please enter a valid email address
      </mat-error>
      <mat-error *ngIf="authForm.get('emailFormControl')?.hasError('required')">
        Email is <strong>required</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field class="full-width">
      <input
        autocomplete="on"
        matInput
        formControlName="passFormControl"
        type="password"
        placeholder="Password"
      />
      <mat-error *ngIf="authForm.get('passFormControl')?.hasError('minlength')"
        >Password must have at least 8 characters</mat-error
      >
    </mat-form-field>
    <ng-container *ngIf="signup; else elseTemplate">
      <a (click)="isSignedUp()">Already a member?</a>
    </ng-container>
    <ng-template #elseTemplate>
      <a (click)="isSignedUp()">Start a new Account?</a>
    </ng-template>
    <button mat-button mat-dialog-close>Cancel</button>
    <ng-container *ngIf="signup; else e">
      <button
        [disabled]="!authForm.valid"
        mat-button
        type="submit"
        [mat-dialog-close]="true"
      >
        Sign Up
      </button>
    </ng-container>
    <ng-template #e>
      <button
        type="submit"
        [disabled]="!authForm.valid"
        mat-button
        [mat-dialog-close]="true"
      >
        Sign In
      </button>
    </ng-template>
  </form>
</mat-dialog-content>
<mat-dialog-actions> </mat-dialog-actions>
