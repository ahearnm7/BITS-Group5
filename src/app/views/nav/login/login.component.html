<img class="image" src="../assets/logo.png" width="45px" alt="Covidify logo" />
<h2 class="heading">Covidify</h2>
<ng-container *ngIf="signup; then sin; else tem"></ng-container>
<ng-template #sin>
  <h2 class="heading">Sign Up</h2>
</ng-template>
<ng-template #tem>
  <h2 class="heading">Sign In</h2>
</ng-template>

<mat-dialog-content class="mat-typography">
  <form>
    <mat-form-field class="full-width" appearance="fill">
      <mat-label>Email</mat-label>
      <input
        type="email"
        matInput
        [formControl]="emailFormControl"
        placeholder="Ex. pat@example.com"
      />
      <mat-hint></mat-hint>
      <mat-error
        *ngIf="
          emailFormControl.hasError('email') &&
          !emailFormControl.hasError('required')
        "
      >
        Please enter a valid email address
      </mat-error>
      <mat-error *ngIf="emailFormControl.hasError('required')">
        Email is <strong>required</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field class="full-width">
      <input
        matInput
        [formControl]="passFormControl"
        type="password"
        placeholder="Password"
      />
      <mat-error *ngIf="passFormControl.hasError('required')"
        >Password is required</mat-error
      >
      <mat-error *ngIf="passFormControl.hasError('minlength')"
        >Password must have at least 8 characters</mat-error
      >
    </mat-form-field>

    <mat-form-field *ngIf="signup" class="full-width">
      <input
        matInput
        [formControl]="password2"
        type="password"
        placeholder="Re-enter Password"
      />
      <mat-error *ngIf="password2.hasError('required')"
        >Please confirm your password</mat-error
      >
      <mat-error *ngIf="password2.hasError('pattern')"
        >Passwords don't match</mat-error
      >
    </mat-form-field>
    <ng-container *ngIf="signup; else elseTemplate">
      <a (click)="isSignedUp()">Already a member?</a>
    </ng-container>
    <ng-template #elseTemplate>
      <a (click)="isSignedUp()">Start a new Account?</a>
    </ng-template>
  </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Cancel</button>
  <ng-container *ngIf="signup; else e">
    <button mat-button [mat-dialog-close]="true" cdkFocusInitial>
      Sign Up
    </button>
  </ng-container>
  <ng-template #e>
    <button mat-button [mat-dialog-close]="true" cdkFocusInitial>
      Sign In
    </button>
  </ng-template>
</mat-dialog-actions>
